@use 'variables' as *;

// ==========================================================================
// Mixins
// ==========================================================================

// Flexbox mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// Button mixins
@mixin button-base {
  border: none;
  border-radius: $border-radius-lg;
  cursor: pointer;
  font-size: $font-size-md;
  font-weight: $font-weight-normal;
  transition: background $transition-normal;
  padding: $spacing-md $spacing-xl;
}

@mixin button-variant($bg-color, $hover-color) {
  background: $bg-color;
  color: $text-light;
  
  &:hover {
    background: $hover-color;
    color: $text-light;
  }
}

// Form mixins
@mixin form-input-base {
  width: 100%;
  padding: $spacing-md;
  border: 1px solid $border-color;
  border-radius: $border-radius-md;
  font-size: $font-size-md;
  font-family: $font-family-primary;
  color: $text-dark;
  transition: border-color $transition-normal;
  
  &:focus {
    outline: none;
    border-color: $primary-color;
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
  }
}

// Modal mixins
@mixin modal-base {
  display: none;
  position: fixed;
  z-index: $z-modal;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

@mixin modal-content-base {
  background-color: $bg-primary;
  margin: 5% auto;
  padding: $spacing-xl;
  border-radius: $border-radius-xxxl;
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  z-index: 10001;
}

// Responsive mixins
@mixin mobile {
  @media (max-width: $breakpoint-mobile) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: #{$breakpoint-mobile + 1px}) and (max-width: $breakpoint-tablet) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: #{$breakpoint-tablet + 1px}) {
    @content;
  }
}

// Text mixins
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin text-wrap {
  word-wrap: normal;
  overflow-wrap: normal;
  hyphens: none;
  white-space: normal;
}

// Animation mixins
@mixin fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(-10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@mixin spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// Loading animation
@mixin loading-shimmer {
  background: $bg-secondary;
  background-image: linear-gradient(90deg, $bg-secondary 25%, $bg-light 50%, $bg-secondary 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

// Badge mixins
@mixin badge-base {
  padding: $spacing-xs $spacing-sm;
  border-radius: $border-radius-badge;
  font-size: $font-size-sm;
  font-weight: $font-weight-normal;
  display: inline-block;
  text-align: center;
}

// Dropdown mixins
@mixin dropdown-base {
  position: absolute;
  top: 100%;
  right: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: $border-radius-xxl;
  box-shadow: $shadow-xl;
  min-width: 225px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all $transition-normal;
  z-index: 2147483647;
  margin-top: 2px;
}

// Table mixins
@mixin table-cell-base {
  padding: $spacing-xl;
  border-bottom: 1px solid $border-color;
  vertical-align: middle;
  box-sizing: border-box;
  overflow: hidden;
}

@mixin table-header-base {
  // Don't set background and color here - let dark mode CSS handle it
  padding: $spacing-xl;
  text-align: left;
  font-weight: $font-weight-bold;
  border-bottom: 2px solid $border-color;
  box-sizing: border-box;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// ==========================================================================
// Sidebar Mixins
// ==========================================================================

// Common flex properties for full-width layouts
@mixin flex-full-width {
  flex: 1;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
}

// Hidden sidebar state
@mixin sidebar-hidden {
  display: none;
  width: 0;
  flex: 0 0 0;
  margin: 0;
  padding: 0;
}

// Sidebar text styling
@mixin sidebar-text {
  color: $text-light;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
